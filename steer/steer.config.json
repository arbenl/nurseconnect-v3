{
  "version": "1.0",
  "agentCatalog": {
    "dev": {
      "name": "Architect",
      "scope": "implementation",
      "responsibilities": [
        "Design and implement requested changes",
        "Keep solutions aligned with codebase conventions",
        "Prepare patch-level execution notes"
      ]
    },
    "qa": {
      "name": "Verifier",
      "scope": "quality",
      "responsibilities": [
        "Validate correctness against requirements",
        "Define and run validation checks",
        "Capture failing cases and reproducible repro steps"
      ]
    },
    "security": {
      "name": "Threat Analyst",
      "scope": "risk",
      "responsibilities": [
        "Review security, auth, and data-protection impact",
        "Flag policy or compliance risks",
        "Require explicit mitigations before approval"
      ]
    },
    "ops": {
      "name": "Reliability Keeper",
      "scope": "operations",
      "responsibilities": [
        "Verify deployment, migration, and operational readiness",
        "Check observability and incident readiness",
        "Define rollback and monitoring expectations"
      ]
    },
    "ux": {
      "name": "Experience Steward",
      "scope": "usability",
      "responsibilities": [
        "Assess product and interaction impact",
        "Check clarity, accessibility, and behavior consistency",
        "Validate user-impacting wording and flows"
      ]
    },
    "perf": {
      "name": "Performance Steward",
      "scope": "performance",
      "responsibilities": [
        "Review latency, resource use, and scalability impact",
        "Recommend guardrails for regression prevention",
        "Define measurable performance acceptance criteria"
      ]
    },
    "critic": {
      "name": "Validation Auditor",
      "scope": "governance",
      "responsibilities": [
        "Cross-check conflicting outputs between agents",
        "Enforce policy and decision consistency",
        "Issue structured PASS/FAIL reconciliation decisions"
      ]
    },
    "reconciler": {
      "name": "Decision Reconciler",
      "scope": "governance",
      "responsibilities": [
        "Resolve residual conflicts with minimal edits",
        "Align final recommendations to deterministic rules",
        "Produce final action plan and sign-off"
      ]
    }
  },
  "taskProfiles": {
    "low": {
      "requiredAgents": [
        "dev",
        "qa"
      ],
      "optionalAgents": [
        "ux",
        "perf",
        "critic",
        "reconciler"
      ],
      "requiredArtifacts": [
        "manifest.json",
        "agentOutputs.dev.json",
        "agentOutputs.qa.json",
        "signature.json"
      ]
    },
    "medium": {
      "requiredAgents": [
        "dev",
        "qa",
        "ops"
      ],
      "optionalAgents": [
        "ux",
        "perf",
        "critic",
        "reconciler"
      ],
      "requiredArtifacts": [
        "manifest.json",
        "agentOutputs.dev.json",
        "agentOutputs.qa.json",
        "agentOutputs.ops.json",
        "signature.json"
      ]
    },
    "high": {
      "requiredAgents": [
        "dev",
        "qa",
        "security",
        "ops",
        "critic",
        "reconciler"
      ],
      "optionalAgents": [
        "ux",
        "perf"
      ],
      "requiredArtifacts": [
        "manifest.json",
        "agentOutputs.dev.json",
        "agentOutputs.qa.json",
        "agentOutputs.security.json",
        "agentOutputs.ops.json",
        "agentOutputs.critic.json",
        "agentOutputs.reconciler.json",
        "signature.json"
      ]
    }
  },
  "governance": {
    "runPolicy": {
      "defaultRiskPolicies": {
        "maxActionsPerAgent": 60,
        "allowedActions": [
          "write",
          "append",
          "replace"
        ],
        "allowedPathPrefixes": [
          "apps",
          "packages",
          "scripts",
          "prompts",
          "schemas",
          "schema",
          "docs",
          "infra",
          "config",
          ".github",
          "tools"
        ],
        "blockedPathFragments": [
          ".git/",
          "node_modules/",
          "dist/",
          "coverage/",
          ".next/",
          "artifacts/",
          "build/",
          "tmp/",
          "temp/"
        ],
        "blockedFileNameFragments": [
          ".pem",
          ".key",
          ".pfx"
        ],
        "rootAllowedFiles": [
          "package.json",
          "pnpm-lock.yaml",
          "tsconfig.json",
          "turbo.json",
          "README.md",
          "CHANGELOG.md",
          "LICENSE",
          "pnpm-workspace.yaml",
          "vitest.config.ts"
        ],
        "allowedExtensions": [
          ".ts",
          ".tsx",
          ".js",
          ".mjs",
          ".cjs",
          ".json",
          ".md",
          ".css",
          ".sql",
          ".yml",
          ".yaml",
          ".toml",
          ".prisma"
        ]
      },
      "byRisk": {
        "low": {
          "maxActionsPerAgent": 30
        },
        "medium": {
          "maxActionsPerAgent": 45
        },
        "high": {
          "maxActionsPerAgent": 60,
          "blockedFileNameFragments": [
            ".pem",
            ".key",
            ".pfx",
            ".env",
            "credential",
            "secret"
          ]
        }
      },
      "agentPolicyById": {
        "dev": {
          "allowedPathPrefixes": [
            "apps",
            "packages",
            "scripts",
            "docs",
            "prompts",
            "schemas",
            "schema"
          ],
          "allowedExtensions": [
            ".ts",
            ".tsx",
            ".js",
            ".mjs",
            ".cjs",
            ".json",
            ".md",
            ".css",
            ".sql",
            ".prisma"
          ],
          "maxActionsPerAgent": 50
        },
        "qa": {
          "allowedPathPrefixes": [
            "apps",
            "packages",
            "scripts",
            "docs",
            "prompts",
            "schemas",
            "schema"
          ],
          "allowedActions": [
            "write",
            "append",
            "replace"
          ],
          "allowedExtensions": [
            ".md",
            ".txt",
            ".json",
            ".yml",
            ".yaml"
          ],
          "maxActionsPerAgent": 25
        },
        "security": {
          "allowedPathPrefixes": [
            "apps",
            "packages",
            "scripts",
            "infra",
            "docs",
            "prompts",
            "schemas",
            "schema",
            "config"
          ],
          "allowedExtensions": [
            ".ts",
            ".tsx",
            ".js",
            ".mjs",
            ".cjs",
            ".json",
            ".md",
            ".yml",
            ".yaml"
          ],
          "maxActionsPerAgent": 20
        },
        "ops": {
          "allowedPathPrefixes": [
            "apps",
            "packages",
            "scripts",
            "docs",
            "prompts",
            "schemas",
            "schema",
            "infra",
            ".github",
            "config"
          ],
          "allowedExtensions": [
            ".md",
            ".json",
            ".yml",
            ".yaml",
            ".sh",
            ".ts",
            ".tsx",
            ".js",
            ".mjs",
            ".cjs"
          ],
          "maxActionsPerAgent": 20
        },
        "ux": {
          "allowedPathPrefixes": [
            "apps",
            "packages",
            "docs",
            "prompts",
            "schemas",
            "schema"
          ],
          "allowedExtensions": [
            ".tsx",
            ".jsx",
            ".ts",
            ".js",
            ".css",
            ".json",
            ".md",
            ".yml",
            ".yaml"
          ],
          "maxActionsPerAgent": 20
        },
        "perf": {
          "allowedPathPrefixes": [
            "apps",
            "packages",
            "docs",
            "prompts",
            "schemas",
            "schema",
            "scripts"
          ],
          "allowedExtensions": [
            ".ts",
            ".tsx",
            ".js",
            ".mjs",
            ".cjs",
            ".json",
            ".md",
            ".yml",
            ".yaml"
          ],
          "maxActionsPerAgent": 20
        },
        "critic": {
          "allowedPathPrefixes": [
            "apps",
            "packages",
            "docs",
            "prompts",
            "schemas",
            "schema",
            "scripts"
          ],
          "allowedExtensions": [
            ".md",
            ".txt",
            ".json",
            ".yml",
            ".yaml"
          ],
          "maxActionsPerAgent": 15
        },
        "reconciler": {
          "allowedPathPrefixes": [
            "apps",
            "packages",
            "docs",
            "prompts",
            "schemas",
            "schema",
            "scripts"
          ],
          "allowedExtensions": [
            ".ts",
            ".tsx",
            ".js",
            ".mjs",
            ".cjs",
            ".json",
            ".md",
            ".yml",
            ".yaml"
          ],
          "maxActionsPerAgent": 20
        }
      }
    },
    "verificationGates": {
      "low": [
        "pnpm gate:fast"
      ],
      "medium": [
        "pnpm gate:smoke"
      ],
      "high": [
        "pnpm gate:smoke",
        "pnpm gate:e2e"
      ]
    },
    "verificationGate": {
      "artifact": "verification-gates.json",
      "requiredByRisk": {
        "low": true,
        "medium": true,
        "high": true
      }
    }
  }
}
